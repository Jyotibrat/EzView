<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown Previewer</title>
    <link rel="stylesheet" href="styles/file_upload.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/themes.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="navbar-placeholder">
        <nav class="navbar">
            <h1>Markdown Previewer</h1>
            <button class="hamburger" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="header-actions">
                <ul class="nav-links">
                    <li><a href="#about">About</a></li>
                    <li><a href="#upload">Upload</a></li>
                    <li><a href="#preview">Preview</a></li>
                </ul>
            </div>
        </nav>
    </div>

    <header class="hero-section">
        <h2>Convert your Markdown files to beautiful HTML previews</h2>
        <p>Upload, view, and download your Markdown files in an easy and efficient way.</p>
        <a href="#upload" class="cta-button">Get Started</a>
    </header>

    <main>
        <section id="about" class="about-section">
            <h2>About Markdown</h2>
            <p>Markdown is a lightweight markup language with plain text formatting syntax. It is designed so that it can be converted to HTML and many other formats using a tool by the same name. Markdown is often used to format readme files, for writing messages in online discussion forums, and to create rich text using a plain text editor.</p>
        </section>

        <section id="upload" class="upload-container">
            <div class="upload-box">
                <label for="file" class="file-label">
                    Drag & drop your Markdown file here, or click to upload
                    <input type="file" id="file" name="file" accept=".md" class="file-input" required>
                </label>
            </div>
        </section>

        <section id="preview" class="preview-container">
            <h2>Live Markdown Preview</h2>
            <div id="content" class="preview-content">
                <p>Your preview will appear here once you upload a file.</p>
            </div>
            <div class="download-dropdown">
                <button id="export-btn" class="primary-button" aria-label="Export">
                    Export
                    <span class="dropdown-icon">â–¼</span>
                </button>
                <div class="download-content">
                    <button id="download-html">Export as HTML</button>
                    <button id="download-pdf">Export as PDF</button>
                </div>
            </div>
        </section>
    </main>

    <button onclick="topFunction()" id="scrBtn" title="Go to top"><i class="fas fa-arrow-up"></i></button> 

    <div id="footer-placeholder"></div>

    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="script.js"></script>
    <script src="file_upload.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const hamburger = document.querySelector('.hamburger');
            const headerActions = document.querySelector('.header-actions');
            
            if (hamburger && headerActions) { // Check if elements exist
                // Function to close menu
                function closeMenu() {
                    headerActions.classList.remove('active');
                    document.body.classList.remove('menu-open');
                }

                // Toggle menu on hamburger click
                hamburger.addEventListener('click', function() {
                    headerActions.classList.toggle('active');
                    document.body.classList.toggle('menu-open');
                });

                // Close menu when clicking outside
                document.addEventListener('click', function(e) {
                    if (headerActions.classList.contains('active') && 
                        !headerActions.contains(e.target) && 
                        !hamburger.contains(e.target)) {
                        closeMenu();
                    }
                });

                // Close menu on window resize
                window.addEventListener('resize', function() {
                    if (window.innerWidth > 768) {
                        closeMenu();
                    }
                });
            }
        });
    </script>
</body>
</html>